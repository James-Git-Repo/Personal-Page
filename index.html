<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>The (un)Stable Net ‚Äî Landing</title>
  <meta name="description" content="The (un)Stable Net ‚Äî a blog about business, tech, AI & content creation. Projects: European Market Movers newsletter and Million Slots Billboard platform."/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --page:#ffffff;
      --ink:#0b152c;
      --muted:#6b7897;
      --line:#e7edf7;
      --card:#ffffff;
      --primary:#1f4aff;  /* deep blue */
      --accent:#00b7ff;   /* cyan */
      --chip:#eef4ff;
      --radius:16px;
      --shadow:0 10px 30px rgba(12, 23, 52, .08);
      --maxw: 1120px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0; font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif; color:var(--ink); background:var(--page)}

    /* Header */
    header{position:sticky; top:0; z-index:20; backdrop-filter:saturate(140%) blur(8px); background:rgba(255,255,255,.8); border-bottom:1px solid var(--line)}
    .wrap{max-width:var(--maxw); margin:0 auto; padding:0 20px}
    .nav{height:72px; display:flex; align-items:center; justify-content:space-between}
    .brand{display:flex; align-items:center; gap:12px}
    .mark{width:36px; height:36px; border-radius:12px; display:grid; place-items:center; color:#fff; background:conic-gradient(from 210deg, var(--primary), var(--accent)); box-shadow:var(--shadow)}
    .brand h1{font-size:18px; margin:0}
    nav ul{display:flex; list-style:none; gap:16px; margin:0; padding:0}
    nav a{color:#263659; font-weight:700; padding:8px 10px; border-radius:10px; text-decoration:none}
    nav a:hover{background:#f4f7ff}

    /* Hero with tech canvas */
    .hero{position:relative; overflow:hidden; border-bottom:1px solid var(--line)}
    canvas#net{position:absolute; inset:0; width:100%; height:100%; display:block; background:linear-gradient(180deg,#f7faff 0%,#ffffff 70%)}
    .hero .inner{position:relative; max-width:var(--maxw); margin:0 auto; padding:56px 20px 32px; color:#263659}
    .title{font-size: clamp(34px, 5vw, 60px); line-height:1.05; margin:8px 0 8px; letter-spacing:.2px}
    .subtitle{margin:0; color:#4c5c83; font-weight:600}
    .chips{margin:16px 0 0; display:flex; gap:8px; flex-wrap:wrap}
    .chip{background:var(--chip); border:1px solid #dbe6ff; color:#2140b8; padding:6px 12px; border-radius:999px; font-weight:800; font-size:12px}
    .cta{display:flex; gap:12px; flex-wrap:wrap; margin:18px 0 0}
    .btn{display:inline-flex; align-items:center; gap:10px; padding:12px 16px; border-radius:12px; font-weight:800; border:1px solid #dbe6ff; color:#143166; background:#fff}
    .btn.primary{background:linear-gradient(135deg, var(--primary), var(--accent)); color:#ffffff; border-color:transparent}
    .btn.small{padding:8px 12px; font-weight:700}

    /* Newsletter block */
    .newsletter{margin:22px 0 10px}
    .nl-card{background:#f3f7ff; border:1px solid var(--line); border-radius:14px; box-shadow:var(--shadow); padding:16px 16px; display:grid; grid-template-columns: 1.2fr .8fr; gap:12px}
    .nl-card strong{color:#0b152c}
    .nl-form{display:flex; gap:10px; align-items:center; flex-wrap:wrap; justify-self:end}
    .nl-input{padding:12px 12px; border-radius:10px; border:1px solid #cfe0ff; min-width:260px; font:inherit}

    /* Projects */
    section.projects{padding:26px 0}
    .section-head{display:flex; align-items:center; justify-content:space-between; gap:10px}
    .section-title{margin:0 0 12px; font-size:24px}
    .grid{display:grid; grid-template-columns:repeat(2, 1fr); gap:16px}
    .card{position:relative; background:var(--card); border:1px solid var(--line); border-radius:var(--radius); box-shadow:var(--shadow); overflow:hidden; transition:transform .2s ease}
    .card:hover{transform:translateY(-2px)}
    .cover{width:100%; aspect-ratio:16/9; background:#1b2550; background-size:cover; background-position:center; border-bottom:1px solid var(--line)}
    .inner{padding:16px}
    .tag{display:inline-flex; padding:6px 10px; border-radius:999px; background:#eef4ff; border:1px solid #d8e6ff; color:#2140b8; font-weight:800; font-size:12px}
    .card h3{margin:8px 0 6px}
    .card p{margin:0; color:#2a3552}
    .actions{margin-top:12px; display:flex; gap:8px; flex-wrap:wrap}
    .ghost{display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:10px; border:1px solid #dbe6ff; background:#fff; color:#18306b; font-weight:700}
    .editbar{position:absolute; top:8px; right:8px; display:flex; gap:6px}
    .editbar .edit{background:rgba(255,255,255,.9); border:1px solid var(--line); padding:6px 8px; border-radius:8px; font-weight:700; cursor:pointer}

    /* About */
    .about{padding:24px 0 48px; display:grid; grid-template-columns: .38fr .62fr; gap:22px; align-items:center}
    .portrait-wrap{position:relative}
    .portrait{width:100%; aspect-ratio:1/1; border-radius:20px; border:6px solid #ffffff; box-shadow:var(--shadow); background: url('https://dummyimage.com/700x700/1b274d/ced9ff&text=Your+Photo') center/cover no-repeat}
    .portrait-btn{position:absolute; right:10px; bottom:10px; background:rgba(255,255,255,.95); border:1px solid var(--line); padding:8px 10px; border-radius:10px; font-weight:700; cursor:pointer}
    .bio{background:var(--card); border:1px solid var(--line); border-radius:14px; box-shadow:var(--shadow); padding:22px}
    .bio h2{margin:0 0 6px}
    .bio p{margin:0 0 10px; color:#2a3552}
    .meta{display:flex; gap:8px; flex-wrap:wrap; margin:8px 0 0}
    .pill{background:#eef4ff; border:1px solid #dbe6ff; color:#2140b8; padding:6px 10px; border-radius:999px; font-weight:800; font-size:12px}
    .socials{display:flex; gap:10px; flex-wrap:wrap; margin-top:12px}
    .socials a{display:inline-flex; align-items:center; gap:8px; padding:10px 12px; border-radius:10px; border:1px solid #dbe6ff; background:#fff; color:#1a2d64; font-weight:700}

    footer{border-top:1px solid var(--line); padding:18px 0; color:#6b7897}

    /* Modal */
    .modal{position:fixed; inset:0; display:none; place-items:center; background:rgba(11,21,44,.3)}
    .modal .box{width:min(560px,calc(100vw-32px)); background:#fff; border:1px solid var(--line); border-radius:14px; box-shadow:var(--shadow); padding:16px}
    .modal.open{display:grid}
    .row{display:grid; grid-template-columns:140px 1fr; gap:10px; align-items:center; margin:10px 0}
    .row input[type="text"], .row textarea{width:100%; padding:10px 12px; border-radius:10px; border:1px solid #dbe6ff; font:inherit}
    .row textarea{min-height:96px}
    .row .file{display:inline-flex; align-items:center; gap:8px; padding:10px 12px; border-radius:10px; border:1px solid #dbe6ff; background:#fff; color:#18306b; font-weight:700; cursor:pointer; width:max-content}
    .modal .actions{display:flex; justify-content:flex-end; gap:8px; margin-top:8px}

    /* Responsive */
    @media (max-width: 920px){
      .nl-card{grid-template-columns:1fr; gap:8px}
      .nl-form{justify-self:start}
      .about{grid-template-columns:1fr; text-align:center}
      .portrait-wrap{justify-self:center}
    }
    @media (max-width: 780px){
      .grid{grid-template-columns:1fr}
    }
  </style>
</head>
<body>
  <header>
    <div class="wrap nav">
      <div class="brand">
        <div class="mark" aria-hidden="true">TSN</div>
        <h1>The (un)Stable Net</h1>
      </div>
      <nav aria-label="Primary">
        <ul>
          <li><a href="#projects">Projects</a></li>
          <li><a href="#about">About</a></li>
          <li><a href="#subscribe">Subscribe</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <section class="hero">
    <canvas id="net" aria-hidden="true"></canvas>
    <div class="inner">
      <h2 class="title">The (un)Stable Net</h2>
      <p class="subtitle">A blog about Business, AI and Content Creation</p>
      <div class="chips">
        <span class="chip">Business</span>
        <span class="chip">Tech</span>
        <span class="chip">AI</span>
        <span class="chip">Content</span>
      </div>
      <div class="cta">
        <a class="btn primary" href="#projects">Explore projects</a>
        <a class="btn" href="#about">About me</a>
      </div>

      <div id="subscribe" class="newsletter">
        <div class="nl-card">
          <div><strong>European Market Movers</strong><br/>A weekly, portfolio‚Äëmanager style wrap of European markets: what moved, why it mattered, and what‚Äôs next.</div>
          <form class="nl-form" onsubmit="event.preventDefault(); alert('Thanks! I\'ll keep you posted.');">
            <label for="email" class="sr-only">Email</label>
            <input id="email" type="email" required class="nl-input" placeholder="you@example.com" />
            <button class="btn primary" type="submit">Subscribe</button>
          </form>
        </div>
      </div>
    </div>
  </section>

  <main class="wrap">
    <section id="projects" class="projects" aria-labelledby="projects-title">
      <div class="section-head">
        <h2 id="projects-title" class="section-title">Projects</h2>
        <button id="addProjectBtn" class="btn small">Ôºã New project</button>
      </div>
      <div class="grid" id="projectGrid"></div>
    </section>

    <section id="about" class="about" aria-labelledby="about-title">
      <div class="portrait-wrap">
        <div id="portrait" class="portrait" aria-hidden="true"></div>
        <button id="bioBtn" class="portrait-btn">Change photo</button>
        <input id="bioUpload" type="file" accept="image/*" hidden />
      </div>
      <div class="bio">
        <h2 id="about-title">About me</h2>
        <p><strong>Hi, I‚Äôm Jacopo.</strong> Swiss‚ÄìItalian analyst and builder based between Swiss and Northern Italy. I help Italian SMEs and startups land in Switzerland and scale ‚Äî especially in <em>fintech</em>, <em>med‚Äëtech</em> and <em>AI‚Äëpowered products</em>.</p>
        <p>I turn messy signals into crisp, institutional‚Äëgrade briefs and ship small tools that remove friction: from a Google Drive workflow that auto‚Äësorts documents to a 1‚Äëmillion‚Äëslot AI billboard project. I care about clarity, speed, and usefulness.</p>
        <p>Highlights: coordinated the ICE collective at <em>Swiss Biotech Day 2025</em>; drafted MDR/IVDR compliance notes for med‚Äëtech; provided guidance to SMEs and startups on Swiss market entry; and built <em>European Market Movers</em> to make market updates fast to read and easy to share.</p>
        <div class="meta">
          <span class="pill">Markets & strategy</span>
          <span class="pill">Innovation & trade (EU‚ÄìCH)</span>
          <span class="pill">AI & product tinkering</span>
        </div>
        <div class="socials">
          <a href="#" title="Email">‚úâÔ∏è Email</a>
          <a href="#" title="LinkedIn">in LinkedIn</a>
          <a href="#" title="X / Twitter">ùïè Twitter</a>
          <a href="#" title="GitHub">‚åÇ GitHub</a>
          <a href="#" title="Read full bio">‚Üí Full bio</a>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="wrap" style="display:flex; justify-content:space-between; align-items:center; gap:12px; flex-wrap:wrap">
      <div>¬© 2025 The (un)Stable Net</div>
      <div>Clean layout ‚Ä¢ Card covers ‚Ä¢ Blue tech background</div>
    </div>
  </footer>

  <!-- Add/Edit Project Modal -->
  <div id="projectModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="projTitle">
    <div class="box">
      <h3 id="projTitle">New Project</h3>
      <div class="row"><label>Title</label><input id="pTitle" type="text" placeholder="Project name" required></div>
      <div class="row"><label>Tag</label><input id="pTag" type="text" placeholder="e.g., Platform, Tool, Research" required></div>
      <div class="row"><label>Brief</label><textarea id="pBlurb" placeholder="One or two lines about the project"></textarea></div>
      <div class="row"><label>Cover</label><label class="file">Upload<input id="pCover" type="file" accept="image/*" hidden></label></div>
      <div class="actions">
        <button id="pCancel" class="btn small">Cancel</button>
        <button id="pSave" class="btn primary small">Save</button>
      </div>
    </div>
  </div>

  <input id="coverUploader" type="file" accept="image/*" hidden />

  <script>
    // ===== Accessibility helper
    (function(){
      const style = document.createElement('style');
      style.textContent = `.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}`;
      document.head.appendChild(style);
    })();

    // ===== Tech-y hero background (blue-ish particles + lines)
    (function initNet(){
      const canvas = document.getElementById('net');
      const ctx = canvas.getContext('2d');
      const dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
      let w, h, points=[]; const N = 70; // number of particles
      const reduce = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

      function rand(a,b){return Math.random()*(b-a)+a}
      function resize(){
        w = canvas.clientWidth; h = canvas.clientHeight;
        canvas.width = w*dpr; canvas.height = h*dpr; ctx.setTransform(dpr,0,0,dpr,0,0);
      }
      function reset(){
        points = Array.from({length:N},()=>({
          x: rand(0,w), y: rand(0,h), vx: rand(-0.3,0.3), vy: rand(-0.2,0.2)
        }));
      }
      function step(){
        ctx.clearRect(0,0,w,h);
        // gradient background tint
        const g = ctx.createLinearGradient(0,0,w,h);
        g.addColorStop(0,'rgba(31,74,255,0.10)');
        g.addColorStop(1,'rgba(0,183,255,0.08)');
        ctx.fillStyle = g; ctx.fillRect(0,0,w,h);
        // draw connections
        for(let i=0;i<points.length;i++){
          const p = points[i];
          // move
          p.x += p.vx; p.y += p.vy;
          if(p.x<0||p.x>w) p.vx*=-1; if(p.y<0||p.y>h) p.vy*=-1;
          // point
          ctx.beginPath(); ctx.arc(p.x,p.y,1.6,0,Math.PI*2); ctx.fillStyle='rgba(33,64,184,0.9)'; ctx.fill();
          // links
          for(let j=i+1;j<points.length;j++){
            const q = points[j];
            const dx=p.x-q.x, dy=p.y-q.y; const dist=Math.hypot(dx,dy);
            if(dist<120){
              ctx.strokeStyle = `rgba(100,150,255,${0.14*(1-dist/120)})`;
              ctx.lineWidth = 1; ctx.beginPath(); ctx.moveTo(p.x,p.y); ctx.lineTo(q.x,q.y); ctx.stroke();
            }
          }
        }
        if(!reduce) requestAnimationFrame(step);
      }
      function start(){ resize(); reset(); step(); }
      start();
      window.addEventListener('resize', ()=>{ resize(); });
      if(reduce){ // draw once if reduced motion
        step();
      }
    })();

    // ===== Defaults for covers
    const defaultCovers = {
      emm: "data:image/svg+xml;utf8," + encodeURIComponent(`
        <svg xmlns='http://www.w3.org/2000/svg' width='1200' height='675'>
          <defs>
            <linearGradient id='g' x1='0' y1='0' x2='1' y2='1'>
              <stop offset='0%' stop-color='#1f4aff'/>
              <stop offset='100%' stop-color='#00d4ff'/>
            </linearGradient>
          </defs>
          <rect width='1200' height='675' fill='#0b1226'/>
          <rect width='1200' height='675' fill='url(#g)' opacity='0.18'/>
          <g stroke='#2a3c78' stroke-width='1' opacity='0.55'>
            <path d='M0 600 H1200'/><path d='M0 500 H1200'/><path d='M0 400 H1200'/><path d='M0 300 H1200'/><path d='M0 200 H1200'/><path d='M0 100 H1200'/>
            <path d='M100 0 V675'/><path d='M300 0 V675'/><path d='M500 0 V675'/><path d='M700 0 V675'/><path d='M900 0 V675'/><path d='M1100 0 V675'/>
          </g>
          <polyline fill='none' stroke='#aee1ff' stroke-width='4' points='0,520 100,540 200,480 300,460 400,420 500,470 600,430 700,380 800,420 900,360 1000,400 1100,340 1200,360'/>
          <circle cx='1100' cy='340' r='6' fill='#ffffff'/>
          <text x='36' y='64' fill='#dbe5ff' font-family='Inter,Arial' font-weight='700' font-size='34'>European Market Movers</text>
          <text x='36' y='102' fill='#a9b7d9' font-family='Inter,Arial' font-size='22'>Weekly brief ‚Ä¢ Europe ‚Ä¢ Markets</text>
        </svg>`),
      msb: "data:image/svg+xml;utf8," + encodeURIComponent(`
        <svg xmlns='http://www.w3.org/2000/svg' width='1200' height='675'>
          <defs>
            <linearGradient id='b' x1='0' y1='0' x2='1' y2='1'>
              <stop offset='0%' stop-color='#00d4ff'/>
              <stop offset='100%' stop-color='#2f6bff'/>
            </linearGradient>
          </defs>
          <rect width='1200' height='675' fill='#0b1226'/>
          <rect width='1200' height='675' fill='url(#b)' opacity='0.15'/>
          <g>
            ${Array.from({length:9}).map((_,r)=> Array.from({length:12}).map((_,c)=>{
              const x = 40 + c*80; const y = 80 + r*60; const w = 68; const h = 44; const o = 0.5 + ((r+c)%3)*0.15;
              return `<rect x='${x}' y='${y}' rx='6' ry='6' width='${w}' height='${h}' fill='rgba(122,184,255,${o})' stroke='#2a3c78'/>`;
            }).join('')).join('')}
          </g>
          <text x='36' y='64' fill='#dbe5ff' font-family='Inter,Arial' font-weight='700' font-size='34'>Million Slots Billboard</text>
          <text x='36' y='102' fill='#a9b7d9' font-family='Inter,Arial' font-size='22'>Upload ‚Ä¢ Compose ‚Ä¢ Amplify</text>
        </svg>`)
    };

    // ===== State (persisted)
    const LS_PROJECTS = 'tsn_projects';
    const LS_BIO_PHOTO = 'tsn_bio_photo';

    function slugify(s){return s.toLowerCase().replace(/[^a-z0-9]+/g,'-').replace(/(^-|-$)/g,'').slice(0,32)||('p-'+Math.random().toString(36).slice(2,8))}

    function loadProjects(){
      const raw = localStorage.getItem(LS_PROJECTS);
      if(raw){
        try{ return JSON.parse(raw); }catch{}
      }
      // defaults
      return [
        {id:'emm', tag:'Newsletter', title:'European Market Movers', blurb:'Weekly, portfolio‚Äëmanager style wrap of European markets: what moved, why it mattered, and what‚Äôs next ‚Äî built for quick hand‚Äëoff to ICs and client teams.', cover: defaultCovers.emm, actions:[{label:'Read latest', href:'#'},{label:'Archive', href:'#'}]},
        {id:'msb', tag:'Platform', title:'Million Slots Billboard', blurb:'A living, permanent AI video mosaic with 1,000,000 micro‚Äëslots. Buy contiguous cells to scale presence; upload short videos that the canvas stitches into a single billboard.', cover: defaultCovers.msb, actions:[{label:'Open prototype', href:'#'},{label:'Concept notes', href:'#'}]}
      ];
    }
    function saveProjects(list){ localStorage.setItem(LS_PROJECTS, JSON.stringify(list)); }

    function loadBioPhoto(){ return localStorage.getItem(LS_BIO_PHOTO); }
    function saveBioPhoto(dataUrl){ if(dataUrl) localStorage.setItem(LS_BIO_PHOTO, dataUrl); }

    let PROJECTS = loadProjects();

    // ===== Render
    const grid = document.getElementById('projectGrid');
    const coverUploader = document.getElementById('coverUploader');
    let currentCoverId = null;

    function cardTemplate(p){
      const cover = p.cover || defaultCovers[p.id] || genCover(p.title, p.tag);
      return `<article class="card" data-id="${p.id}">
        <div class="editbar">
          <button class="edit" data-action="cover">üñº Cover</button>
        </div>
        <div class="cover" style="background-image:url('${cover}')"></div>
        <div class="inner">
          <span class="tag">${p.tag||''}</span>
          <h3>${p.title||''}</h3>
          <p>${p.blurb||''}</p>
          <div class="actions">${(p.actions||[]).map(a=>`<a class="ghost" href="${a.href}">${a.label}</a>`).join('')}</div>
        </div>
      </article>`;
    }

    function renderProjects(){
      grid.innerHTML = PROJECTS.map(cardTemplate).join('');
    }

    // ===== Add / Edit projects
    const modal = document.getElementById('projectModal');
    const addBtn = document.getElementById('addProjectBtn');
    const pTitle = document.getElementById('pTitle');
    const pTag = document.getElementById('pTag');
    const pBlurb = document.getElementById('pBlurb');
    const pCover = document.getElementById('pCover');
    const pCancel = document.getElementById('pCancel');
    const pSave = document.getElementById('pSave');

    function openModal(){ modal.classList.add('open'); pTitle.value=''; pTag.value=''; pBlurb.value=''; pCover.value=''; }
    function closeModal(){ modal.classList.remove('open'); }
    addBtn.addEventListener('click', openModal);
    pCancel.addEventListener('click', closeModal);

    function readAsDataURL(file){
      return new Promise((resolve,reject)=>{ const fr=new FileReader(); fr.onload=()=>resolve(fr.result); fr.onerror=reject; fr.readAsDataURL(file); });
    }

    function genCover(title, tag){
      const svg = `<?xml version="1.0"?><svg xmlns='http://www.w3.org/2000/svg' width='1200' height='675'>
        <defs>
          <linearGradient id='g' x1='0' y1='0' x2='1' y2='1'>
            <stop offset='0%' stop-color='#1f4aff'/>
            <stop offset='100%' stop-color='#00b7ff'/>
          </linearGradient>
        </defs>
        <rect width='1200' height='675' fill='#0b1226'/>
        <rect width='1200' height='675' fill='url(#g)' opacity='0.18'/>
        <text x='40' y='80' fill='#dbe5ff' font-family='Inter,Arial' font-weight='700' font-size='42'>${(title||'Project').replace(/</g,'&lt;')}</text>
        <text x='40' y='120' fill='#a9b7d9' font-family='Inter,Arial' font-size='24'>${(tag||'')}</text>
      </svg>`;
      return 'data:image/svg+xml;utf8,'+encodeURIComponent(svg);
    }

    pSave.addEventListener('click', async ()=>{
      const title = pTitle.value.trim(); if(!title) return alert('Please add a title');
      const id = slugify(title);
      const tag = pTag.value.trim();
      const blurb = pBlurb.value.trim();
      let cover = null;
      if(pCover.files && pCover.files[0]) cover = await readAsDataURL(pCover.files[0]);
      if(!cover) cover = genCover(title, tag);
      PROJECTS.push({id, title, tag, blurb, cover, actions:[]});
      saveProjects(PROJECTS); renderProjects(); closeModal();
    });

    grid.addEventListener('click', async (e)=>{
      const btn = e.target.closest('.edit'); if(!btn) return;
      const card = e.target.closest('.card'); const id = card.getAttribute('data-id');
      if(btn.dataset.action==='cover'){
        currentCoverId = id; coverUploader.click();
      }
    });

    coverUploader.addEventListener('change', async (e)=>{
      const file = e.target.files?.[0]; if(!file || !currentCoverId) return;
      const url = await readAsDataURL(file);
      const idx = PROJECTS.findIndex(p=>p.id===currentCoverId);
      if(idx>-1){ PROJECTS[idx].cover = url; saveProjects(PROJECTS); renderProjects(); }
      currentCoverId = null; coverUploader.value='';
    });

    // ===== Bio portrait upload
    const bioBtn = document.getElementById('bioBtn');
    const bioUpload = document.getElementById('bioUpload');
    const portrait = document.getElementById('portrait');

    function applyBio(){ const u = loadBioPhoto(); if(u) portrait.style.backgroundImage = `url('${u}')`; }

    bioBtn.addEventListener('click', ()=> bioUpload.click());
    bioUpload.addEventListener('change', async (e)=>{
      const f = e.target.files?.[0]; if(!f) return; const url = await readAsDataURL(f); saveBioPhoto(url); applyBio(); e.target.value='';
    });

    // ===== Init
    applyBio();
    renderProjects();
  </script>
</body>
</html>
